<Window x:Class="RemainingTimeMeter.TimerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:properties="clr-namespace:RemainingTimeMeter.Properties"
        Title="Timer" 
        WindowStyle="None" 
        AllowsTransparency="True" 
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        Icon="tv_timekeeper_trimmed.ico"
        MouseEnter="OnControlPanelRequested"
        MouseLeave="OnControlPanelHidden">

    <Grid>
        <!-- タイマーバー -->
        <Border x:Name="TimerBorder" 
                Background="#40000000" 
                CornerRadius="2"
                BorderBrush="#80FFFFFF" 
                BorderThickness="1">

            <!-- 進捗バー -->
            <Grid>
                <Rectangle x:Name="ProgressBar" 
                          Fill="#4CAF50" 
                          VerticalAlignment="Bottom"
                          HorizontalAlignment="Left"/>
            </Grid>
        </Border>

        <!-- コントロールパネル（ホバー時に表示） -->
        <Border x:Name="ControlPanel" 
                Background="#E0FFFFFF" 
                CornerRadius="5"
                Padding="5"
                Visibility="Collapsed"
                BorderBrush="#CCCCCC" 
                BorderThickness="1">

            <StackPanel>
                <TextBlock x:Name="TimeDisplay" 
                          Text="5:00" 
                          FontSize="18" 
                          FontWeight="Bold" 
                          HorizontalAlignment="Center"
                          Margin="0,0,0,10"/>

                <StackPanel HorizontalAlignment="Center">
                    <Button x:Name="PauseResumeButton" 
                            Content="{Binding Source={x:Static properties:Resources.Pause}}" 
                            Width="60" 
                            Height="30" 
                            Margin="0,0,0,5"
                            Click="OnPauseResumeToggled"/>

                    <Button x:Name="StopButton" 
                            Content="{Binding Source={x:Static properties:Resources.Stop}}" 
                            Width="60" 
                            Height="30" 
                            Margin="0,0,0,0"
                            Click="OnTimerStopped"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window> 