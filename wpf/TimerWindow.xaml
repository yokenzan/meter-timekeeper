<Window x:Class="RemainingTimeMeter.TimerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Timer" 
        WindowStyle="None" 
        AllowsTransparency="True" 
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        Icon="tv_timekeeper_trimmed.ico"
        MouseEnter="Window_MouseEnter"
        MouseLeave="Window_MouseLeave">

    <Grid>
        <!-- タイマーバー -->
        <Border x:Name="TimerBorder" 
                Background="#40000000" 
                CornerRadius="2"
                BorderBrush="#80FFFFFF" 
                BorderThickness="1">

            <!-- 進捗バー -->
            <Grid>
                <Rectangle x:Name="ProgressBar" 
                          Fill="#4CAF50" 
                          VerticalAlignment="Bottom"
                          HorizontalAlignment="Left"/>
            </Grid>
        </Border>

        <!-- コントロールパネル（ホバー時に表示） -->
        <Border x:Name="ControlPanel" 
                Background="#E0FFFFFF" 
                CornerRadius="5"
                Padding="10"
                Visibility="Collapsed"
                BorderBrush="#CCCCCC" 
                BorderThickness="1">

            <StackPanel>
                <TextBlock x:Name="TimeDisplay" 
                          Text="5:00" 
                          FontSize="16" 
                          FontWeight="Bold" 
                          HorizontalAlignment="Center"
                          Margin="0,0,0,10"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <Button x:Name="PauseResumeButton" 
                            Content="一時停止" 
                            Width="80" 
                            Height="30" 
                            Margin="0,0,5,0"
                            Click="PauseResumeButton_Click"/>

                    <Button x:Name="StopButton" 
                            Content="停止" 
                            Width="60" 
                            Height="30" 
                            Margin="5,0,0,0"
                            Click="StopButton_Click"/>
                </StackPanel>

                <Button x:Name="CloseButton" 
                        Content="×" 
                        Width="30" 
                        Height="30" 
                        Margin="0,10,0,0"
                        HorizontalAlignment="Center"
                        Click="CloseButton_Click"
                        Background="#FF4444"
                        Foreground="White"
                        FontWeight="Bold"/>
            </StackPanel>
        </Border>
    </Grid>
</Window> 